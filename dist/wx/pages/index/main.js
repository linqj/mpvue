require("../../common/manifest.js")
require("../../common/vendor.js")
global.webpackJsonpMpvue([1],{"0gpX":function(t,e,a){"use strict";var n=a("1pbe"),s=a("rG9/");var c=function(t){a("T63J")},i=a("ybqe")(n.a,s.a,c,"data-v-45f20eae",null);e.a=i.exports},"1pbe":function(t,e,a){"use strict";var n=a("Dd8w"),s=a.n(n),c=a("NYxO");e.a={data:function(){return{}},created:function(){getApp()},mounted:function(){this.searchTeam()},computed:s()({},Object(c.b)({})),watch:{},methods:{}}},"5vTQ":function(t,e,a){"use strict";var n=a("Dd8w"),s=a.n(n),c=a("0gpX"),i=a("NYxO"),o=wx.cloud.database();e.a={data:function(){return{teamData:[],selectTeam:{},selectedName:"",select:null}},onShow:function(){this.searchTeam(),clearInterval(this.select),this.selectedName="",console.log("onShow",this)},mounted:function(){var t=this;wx.getStorage({key:"nickname",success:function(e){t.$store.dispatch("setName",e.data)}})},watch:{teamData:{handler:function(t,e){console.log("teamData   val"),console.log(t)},deep:!0}},computed:s()({},Object(i.b)({nickname:function(t){return t.nickname}})),methods:{startGame:function(){var t=this.selectTeam.groups;t&&t.length>0?this.select=setInterval(this.roll,60):wx.showToast({title:"该团队下没有成员，请先添加成员",icon:"none",duration:2e3})},endGame:function(){clearInterval(this.select)},roll:function(){var t=this.selectTeam.groups,e=Math.floor(Math.random()*t.length);this.selectedName=t[e]},radioChange:function(t){this.selectTeam=t,this.$store.dispatch("getSelect",t),clearInterval(this.select),this.selectedName=""},searchTeam:function(){var t=this;o.collection("team").get().then(function(e){console.log("res"),console.log(e),t.teamData=e.data,t.selectTeam=t.teamData[0]}).catch(function(t){console.log(t)})},bindGetUserInfo:function(t){var e=JSON.parse(t.target.rawData).nickName;try{wx.setStorageSync("nickname",e)}catch(t){console.log(t)}this.$store.dispatch("setName",e)}},components:{reward:c.a}}},MhDc:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a("5nAL"),s=a.n(n),c=a("Qt9A");new s.a(c.a).$mount()},Qt9A:function(t,e,a){"use strict";var n=a("5vTQ"),s=a("a85P");var c=function(t){a("ejjq")},i=a("ybqe")(n.a,s.a,c,"data-v-5eca2e54",null);e.a=i.exports},T63J:function(t,e){},a85P:function(t,e,a){"use strict";var n={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"add-content"},[t.isAuthenticated?a("div",{staticClass:"title-name-first"},[t._v("hello "+t._s(t.nickname))]):t._e(),t._v(" "),t.isAuthenticated?t._e():a("button",{staticClass:"add-button",attrs:{"open-type":"getUserInfo",eventid:"0"},on:{getuserinfo:t.bindGetUserInfo}},[t._v("获取用户信息")]),t._v(" "),a("div",{staticClass:"add-team"},[a("span",{staticClass:"title-name-second"},[t._v("团队：")]),t._v(" "),t._l(t.teamData,function(e,n){return a("span",{key:n,staticClass:"add-team-item",attrs:{eventid:"1_"+n},on:{click:function(a){t.radioChange(e)}}},[t._v(t._s(e.teamName))])})],2),t._v(" "),t.selectTeam.teamName?a("div",[a("span",{staticClass:"title-name-second"},[t._v("选择的团队：")]),t._v("\n    "+t._s(t.selectTeam.teamName)+"\n  ")]):t._e(),t._v(" "),a("div",{staticClass:"add-team"},[a("span",{staticClass:"title-name-second"},[t._v("团队成员：")]),t._v(" "),t._l(t.selectTeam.groups,function(e,n){return a("span",{key:n,staticClass:"add-team-item-people"},[t._v(t._s(e))])})],2),t._v(" "),a("div",[t._v(t._s(t.selectedName))]),t._v(" "),a("div",[a("button",{staticClass:"add-button",attrs:{eventid:"2"},on:{click:t.startGame}},[t._v("开始")]),t._v(" "),a("button",{staticClass:"add-button",attrs:{eventid:"3"},on:{click:t.endGame}},[t._v("结束")])],1)],1)},staticRenderFns:[]};e.a=n},ejjq:function(t,e){},"rG9/":function(t,e,a){"use strict";var n={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"add-content"},[this._v("2222")])},staticRenderFns:[]};e.a=n}},["MhDc"]);